hide = gr.material({0.84, 0.6, 0.53}, {0.3, 0.3, 0.3}, 20)
stone = gr.material({0.5, 0.40, 0.01}, {0.25, 0.15, 0.15}, 20)
carpet = gr.material({0.6, 0.02, 0.1}, {0,0,0}, 0)
mirror = gr.material({0.1, 0.16, 0.15}, {1.5,1.5,1.5}, 120)
grass = gr.material({0.1, 0.7, 0.1}, {0.0, 0.0, 0.0}, 0)

perfectCanvas = gr.material({1.0, 1.0, 1.0}, {0, 0, 0}, 0)

steelCanvas = gr.material({0.8, 0.8, 0.9}, {1.1, 1.0, 1.2}, 1000)
groundCanvas = gr.material_extended({0.65, 0.65, 0.65}, {0.8, 0.5, 0.3}, 100, 1, 1, 0.3, 0)
woodCanvas = gr.material({0.5, 0.5, 0.6}, {0.42, 0.32, 0.0}, 30)
pillarCanvas = gr.material({0.85, 0.79, 0.85}, {0.44, 0.34, 0.45}, 200)
ringCanvas = gr.material({0.8,0.8,0.8}, {0.7,0.7,0.7}, 100)
translucentCanvas = gr.material_extended({1.0,1.0,1.0}, {1.0,1.0,1.0}, 1000, 1, 0, 0, 1)

flame = gr.material_extended({0.70, 0.31, 0.08}, {0.0, 0.0, 0.0}, 0, 1, 1, 0, 1)
ball_crystal = gr.material_extended({0.3, 0.2, 0.3}, {1.8, 1.7, 1.7}, 1000, 1.49, 0, 0, 0)
crystal = gr.material_extended({0.3, 0.2, 0.3}, {2.0, 2.0, 2.0}, 1000, 1.2, 0, 0, 0)
cutter_crystal = gr.material_extended({0.4, 0.4, 0.7}, {1.2, 1.2, 1.5}, 76.8, 1.4, 0, 0, 0)

--obtained from https://www.student.cs.uwaterloo.ca/~cs488/mat.txt
copper = gr.material({0.7038, 0.27048, 0.0828}, {0.25677, 0.13762, 0.086014}, 12.8)
emerald = gr.material({0.07568, 0.61424, 0.07568}, {0.833, 0.927811, 0.833}, 76.8)
jade = gr.material({0.54, 0.89, 0.63}, {0.316228, 0.316228, 0.316228}, 12.8)
obsidian = gr.material({0.18275, 0.17, 0.22525}, {0.332741, 0.328634, 0.346435}, 38.4)
pearl = gr.material({1, 0.829, 0.829}, {0.296648, 0.296648, 0.296648}, 11.264)
ruby = gr.material({0.61424, 0.04136, 0.04136}, {0.927811, 0.826959, 0.826959}, 76.8)
turquoise = gr.material({0.396, 0.74151, 0.69102}, {0.297254, 0.30829, 0.306678}, 12.8)
brass = gr.material({0.78039, 0.568627, 0.113725}, {0.99215, 0.941176, 0.807843}, 27.9)
bronze = gr.material({0.714, 0.4284, 0.18144}, {0.393548, 0.271906, 0.166721}, 25.6)
chrome = gr.material({0.4, 0.4, 0.4}, {0.974597, 0.974597, 0.974597}, 76.8)
gold = gr.material({0.75164, 0.60648, 0.22648}, {0.628281, 0.555802, 0.366065}, 51.2)
silver = gr.material({0.50754, 0.50754, 0.50754}, {0.908273, 0.908273, 0.908273}, 51.2)
brubber = gr.material({0.01, 0.01, 0.01}, {0.4, 0.4, 0.4}, 10)
polbronze = gr.material({0.4, 0.2368, 0.1036}, {0.774597, 0.458561, 0.200621}, 76.8)
polcopper = gr.material({0.5508, 0.2118, 0.066}, {0.580594, 0.223257, 0.0695701}, 51.2)
polgold = gr.material({0.34615, 0.3143, 0.0903}, {0.797357, 0.723991, 0.208006}, 83.2)
pewter = gr.material({0.427451, 0.470588, 0.541176}, {0.33333, 0.33333, 0.521569}, 9.84615)
polsilver = gr.material({0.50754, 0.50754, 0.50754}, {0.508273, 0.508273, 0.508273}, 51.2)

t_gloves = gr.texture('Assets/rivetsgold.png')
t_smoothsteel = gr.texture('Assets/smoothsteel.png')
t_gold = gr.texture('Assets/goldhilt.png')
t_platesteel = gr.texture('Assets/platesteel.png')
t_sunset = gr.texture('Assets/sunset.png')
t_woodplanks = gr.texture('Assets/planks.png')
t_wall_inner = gr.texture('Assets/marble2.png')
t_checkerboard = gr.texture('Assets/checkerboard.png')
t_castlewall = gr.texture('Assets/castlewall.png')
t_stainedglass = gr.texture('Assets/stainedglass.png')
t_marbleground = gr.texture('Assets/marble2.png')
t_pillarcenter = gr.texture('Assets/marble3.png')
t_pillarbase = gr.texture('Assets/marble1.png')
t_wood = gr.texture('Assets/wood1.png')
t_fleurdelis = gr.texture('Assets/fleur_de_lis.png')
t_rings = gr.texture('Assets/circles.png')
t_bluesteel = gr.texture('Assets/bluesteel.png')

primary_light = gr.spherical_light({-8000, 8000, 500}, {0.52, 0.22, 0.04}, {1, 0, 0}, 250)
primary_light_pt = gr.light({-8000, 8000, 500}, {0.52, 0.22, 0.04}, {1, 0, 0})
backlight = gr.light({0, 400, 400}, {0.7,0.7,0.7}, {1, 0, 0})
flame1 = gr.light({-55,-25,-55}, {0.34, 0.15, 0.04}, {1,0,0.00015})
flame1s = gr.spherical_light({-55,-25,-55}, {0.34, 0.15, 0.04}, {1,0,0.00025}, 2.5)
flame2 = gr.light({-55,-25,-145}, {0.34, 0.15, 0.04}, {1,0,0.00015})
flame2s = gr.spherical_light({-55,-25,-145}, {0.34, 0.15, 0.04}, {1,0,0.00015}, 2.5)
flame3 = gr.light({-55,-25,-235}, {0.34, 0.15, 0.04}, {1,0,0.00015})
flame4 = gr.light({62,-25,-55}, {0.34, 0.15, 0.04}, {1,0,0.00015})
flame4s = gr.spherical_light({62,-25,-55}, {0.34, 0.15, 0.04}, {1,0,0.0002}, 2.0)
flame5 = gr.light({62,-25,-145}, {0.34, 0.15, 0.04}, {1,0,0.00015})
flame5s = gr.spherical_light({62,-25,-145}, {0.34, 0.15, 0.04}, {1,0,0.0002}, 2.0)
flame6 = gr.light({62,-25,-235}, {0.34, 0.15, 0.04}, {1,0,0.00015})

testlight = gr.light({0,0,0}, {0.46, 0.23, 0.1}, {1,0,0})

scene = gr.node('root')

walls = gr.node('walls')
pillars = gr.node('pillars')
altar = gr.node('altar')
statues = gr.node('statues')



------------------------------- WINDOW
i_window = gr.node('i_window')

window_flat = gr.cube('window_flat')
window_flat:translate(-0.5, -0.5, -0.5)
window_flat:set_material(perfectCanvas)
window_flat:set_texture(t_wall_inner)
window_flat:set_bumps(t_wall_inner, 'rgb')

window_round = gr.cylinder('window_round')
window_round:scale(0.5,1,0.5)
window_round:rotate('x', 90)
window_round:translate(0, 0.5, 0)
window_round:set_material(perfectCanvas)
window_round:set_texture(t_wall_inner)
window_round:set_bumps(t_wall_inner, 'rgb')

windowcsg = gr.csg('windowcsg')
windowcsg:set_csg_children(window_round, window_flat, 'UNION')
i_window:add_child(windowcsg)



i_window_pane = gr.cube('i_window_pane')
i_window_pane:translate(-0.5, -0.5, -0.5)
i_window_pane:scale(1, 2, 0.05)
i_window_pane:set_material(brass)

i_window_pane_large = gr.cube('i_window_pane_large')
i_window_pane_large:translate(-0.5, -0.5, -0.5)
i_window_pane_large:scale(1, 2, 0.05)
i_window_pane_large:set_material(translucentCanvas)
i_window_pane_large:set_texture(t_stainedglass)
i_window_pane_large:set_bumps(t_stainedglass, 'rgb')
-----------------------------------------

--walls and boundaries=============================================
ground = gr.cube('ground')
ground:translate(-0.5, -35, -0.6)
ground:scale(300,2,750)
ground:set_material(groundCanvas)
ground:set_texture(t_marbleground)

roof = gr.cube('roof')
roof:translate(-0.5, 74, -0.6)
roof:scale(300,2,750)
roof:set_material(stone)
roof:set_texture(t_woodplanks)
roof:set_bumps(t_woodplanks, 'rgb')

--left
leftwall = gr.cube('leftwall')
leftwall:translate(-18, -0.5, -0.6)
leftwall:scale(8,300,750)
leftwall:set_material(perfectCanvas)
leftwall:set_texture(t_castlewall)
leftwall:set_bumps(t_castlewall, 'rgb')

leftwindows = gr.node('leftwindows')
leftwindow_1 = gr.node('leftwindow_1')
leftwindow_1:scale(50,80,40)
leftwindow_1:rotate('y', 90)
leftwindow_1:translate(-141,-10,-100)
leftwindow_1:add_child(i_window)
leftwindows:add_child(leftwindow_1)

leftwindow_2 = gr.node('leftwindow_2')
leftwindow_2:scale(50,80,40)
leftwindow_2:rotate('y', 90)
leftwindow_2:translate(-141,-10,-190)
leftwindow_2:add_child(i_window)
leftwindows:add_child(leftwindow_2)

leftwindow_3 = gr.node('leftwindow_3')
leftwindow_3:scale(50,80,40)
leftwindow_3:rotate('y', 90)
leftwindow_3:translate(-141,-10,-280)
leftwindow_3:add_child(i_window)
leftwindows:add_child(leftwindow_3)

leftwindow_4 = gr.node('leftwindow_4')
leftwindow_4:scale(50,80,40)
leftwindow_4:rotate('y', 90)
leftwindow_4:translate(-141,-10,-10)
leftwindow_4:add_child(i_window)
leftwindows:add_child(leftwindow_4)


leftwallcsg = gr.csg('leftwallcsg')
leftwallcsg:set_csg_children(leftwall, leftwindows, 'DIFFERENCE')

--right
rightwall = gr.cube('rightwall')
rightwall:translate(18, -0.5, -0.6)
rightwall:scale(8,300,750)
rightwall:set_material(perfectCanvas)
rightwall:set_texture(t_castlewall)
rightwall:set_bumps(t_castlewall, 'rgb')

rightwindows = gr.node('rightwindows')
rightwindow_1 = gr.node('rightwindow_1')
rightwindow_1:scale(50,80,40)
rightwindow_1:rotate('y', 90)
rightwindow_1:translate(137,-10,-100)
rightwindow_1:add_child(i_window)
rightwindows:add_child(rightwindow_1)

rightwindow_2 = gr.node('rightwindow_2')
rightwindow_2:scale(50,80,40)
rightwindow_2:rotate('y', 90)
rightwindow_2:translate(137,-10,-190)
rightwindow_2:add_child(i_window)
rightwindows:add_child(rightwindow_2)

rightwindow_3 = gr.node('rightwindow_3')
rightwindow_3:scale(50,80,40)
rightwindow_3:rotate('y', 90)
rightwindow_3:translate(137,-10,-280)
rightwindow_3:add_child(i_window)
rightwindows:add_child(rightwindow_3)

rightwindow_4 = gr.node('rightwindow_4')
rightwindow_4:scale(50,80,40)
rightwindow_4:rotate('y', 90)
rightwindow_4:translate(137,-10,-10)
rightwindow_4:add_child(i_window)
rightwindows:add_child(rightwindow_4)


rightwallcsg = gr.csg('rightwallcsg')
rightwallcsg:set_csg_children(rightwall, rightwindows, 'DIFFERENCE')


--back wall
frontwall = gr.cube('frontwall')
frontwall:translate(-0.5, -0.5, 50)
frontwall:scale(350,350,2)
frontwall:set_material(perfectCanvas)
frontwall:set_texture(t_castlewall)
frontwall:set_bumps(t_castlewall, 'rgb')

backwall = gr.cube('backwall')
backwall:translate(-0.5, -0.5, -220)
backwall:scale(300,300,2)
backwall:set_material(perfectCanvas)
backwall:set_texture(t_castlewall)
backwall:set_bumps(t_castlewall, 'rgb')

backwindow = gr.node('backwindow')
backwindow:scale(160,120,20)
backwindow:translate(5,22,-440)
backwindow:add_child(i_window)

backwindowpane = gr.node('backwindowpane')
backwindowpane:scale(160,120,20)
backwindowpane:translate(5,22,-440)
backwindowpane:add_child(i_window_pane_large)

backwallcsg = gr.csg('backwallcsg')
backwallcsg:set_csg_children(backwall, backwindow, 'DIFFERENCE')
backwallcsg:add_child(backwindowpane)
--===========================================================================wall and boundaries

--==============pillar======================
i_pillar = gr.node('i_pillar')

pillar_bound = gr.cube('pillar_bound')
pillar_bound:translate(-0.5,-0.5,-0.5)
pillar_bound:scale(32,300,32)
pillar_bound:translate(0,50,0)
pillar_bound:set_material(perfectCanvas)
i_pillar:add_bound(pillar_bound)

pillar_core = gr.cylinder('pillar_center')
pillar_core:scale(6.6,100,6.6)
pillar_core:translate(0,20,0)
pillar_core:set_material(pillarCanvas)
pillar_core:set_texture(t_pillarcenter)
i_pillar:add_child(pillar_core)

pillar_base = gr.cube('pillar_base')
pillar_base:translate(-0.5, -0.5, -0.5)
pillar_base:scale(30,7.2,30)
pillar_base:translate(0,-80, 0)
pillar_base:set_material(polsilver)
pillar_base:set_texture(t_pillarbase)
i_pillar:add_child(pillar_base)

pillar_base_ring_1 = gr.torus('pillar_base_ring_1',0.2)
pillar_base_ring_1:rotate('x', 90)
pillar_base_ring_1:scale(10.6,10.6,10.6)
pillar_base_ring_1:translate(0,-75, 0)
pillar_base_ring_1:set_material(gold)
i_pillar:add_child(pillar_base_ring_1)

pillar_base_ring_2 = gr.torus('pillar_base_ring_2',0.18)
pillar_base_ring_2:rotate('x', 90)
pillar_base_ring_2:scale(9.3,9.3,9.3)
pillar_base_ring_2:translate(0,-72.67, 0)
pillar_base_ring_2:set_material(woodCanvas)
pillar_base_ring_2:set_texture(t_wood)
pillar_base_ring_2:set_bumps(t_wood, 'rgb')
i_pillar:add_child(pillar_base_ring_2)

top_cone_decor = gr.cone('top_cone_decor')
top_cone_decor:rotate('x', 180)
top_cone_decor:scale(9.9,30,9.9)
top_cone_decor:translate(0,99,0)
top_cone_decor:set_material(gold)
top_cone_decor:set_texture(t_fleurdelis)
top_cone_decor:set_bumps(t_fleurdelis, 'rgb')
i_pillar:add_child(top_cone_decor)

pillar_top = gr.cube('pillar_top')
pillar_top:translate(-0.5, -0.5, -0.5)
pillar_top:scale(22,10,22)
pillar_top:translate(0,133,0)
pillar_top:set_material(gold)
pillar_top:set_texture(t_pillarbase)
i_pillar:add_child(pillar_top)

lightholder_cup = gr.cone('lightholder_cup')
lightholder_cup:rotate('x', 180)
lightholder_cup:scale(3.3,3.3,3.3)
lightholder_cup:set_material(polgold)

lightholder_indent = gr.sphere('lightholder_indent')
lightholder_indent:scale(1.93,1.93,1.93)
lightholder_indent:translate(0,5.6,0)
lightholder_indent:set_material(polsilver)

lightholder_left = gr.csg('lightholder_left')
lightholder_left:translate(-8.3,-48,0)
lightholder_left:set_csg_children(lightholder_cup, lightholder_indent, 'DIFFERENCE')
i_pillar:add_child(lightholder_left)

light_left = gr.sphere('light_left')
light_left:scale(2,2,2)
light_left:translate(0,6.3,0)
light_left:set_material(flame)
lightholder_left:add_child(light_left)
--=========================pillar========================

--===========================pillars
right_pillar_1 = gr.node('right_pillar_1')
right_pillar_1:translate(73,-40,-200)
right_pillar_1:add_child(i_pillar)
--==================================================

--===========================================STATUES
i_statue = gr.node('i_statue')

statue_bound = gr.cube('statue_bound')
statue_bound:translate(-0.5,-0.5,-0.5)
statue_bound:scale(90,160,72)
statue_bound:set_material(perfectCanvas)
i_statue:add_bound(statue_bound)

--helmet
s_helmet = gr.cylinder('s_helmet')
s_helmet:scale(8.5,10,8.5)
s_helmet:translate(0,10,0)
s_helmet:set_material(steelCanvas)
s_helmet:set_texture(t_smoothsteel)

s_helmet_diff = gr.node('s_helmet_diff')

s_helmet_inner = gr.cylinder('s_helmet_inner')
s_helmet_inner:scale(7.8,10,7.8)
s_helmet_inner:translate(0,9,0)
s_helmet_inner:set_material(obsidian)
s_helmet_inner:set_texture(t_smoothsteel)
s_helmet_diff:add_child(s_helmet_inner)

s_helmet_eyehole = gr.cylinder('s_helmet_eyehole')
s_helmet_eyehole:scale(2.7,5,2.7)
s_helmet_eyehole:rotate('z', 90)
s_helmet_eyehole:translate(0,10,6.6)
s_helmet_eyehole:set_material(obsidian)
s_helmet_eyehole:set_texture(t_smoothsteel)
s_helmet_diff:add_child(s_helmet_eyehole)

s_helmet_mouthhole = gr.cylinder('s_helmet_mouthhole')
s_helmet_mouthhole:scale(2.7,5,2.7)
s_helmet_mouthhole:translate(0,5,6)
s_helmet_mouthhole:set_material(obsidian)
s_helmet_mouthhole:set_texture(t_smoothsteel)
s_helmet_diff:add_child(s_helmet_mouthhole)

s_helmet_csg = gr.csg('s_helmet_csg')
s_helmet_csg:translate(0,23,0)
s_helmet_csg:set_csg_children(s_helmet, s_helmet_diff, 'DIFFERENCE')
i_statue:add_child(s_helmet_csg)

--body
s_body_frame = gr.hyperboloid('s_body_frame', 8)
s_body_frame:scale(6,18,3.8)
s_body_frame:set_material(steelCanvas)
s_body_frame:set_texture(t_platesteel)
s_body_frame:set_bumps(t_platesteel, 'rgb')
i_statue:add_child(s_body_frame)

s_body_trim_top = gr.torus('s_body_trim_top', 0.07)
s_body_trim_top:scale(17.3,11.7,17.3)
s_body_trim_top:rotate('x', 90)
s_body_trim_top:translate(0,18,0)
s_body_trim_top:set_material(gold)
i_statue:add_child(s_body_trim_top)

s_body_trim_bottom = gr.torus('s_body_trim_bottom', 0.07)
s_body_trim_bottom:scale(17.3,11.7,17.3)
s_body_trim_bottom:rotate('x', 90)
s_body_trim_bottom:translate(0,-18,0)
s_body_trim_bottom:set_material(gold)
i_statue:add_child(s_body_trim_bottom)

--legs
leg = gr.node('leg')

thigh_socket = gr.sphere('thigh_socket')
thigh_socket:scale(6.4,6.4,6.4)
thigh_socket:translate(0,-20,0)
thigh_socket:set_material(steelCanvas)
thigh_socket:set_texture(t_bluesteel)
thigh_socket:set_bumps(t_bluesteel, 'rgb')
leg:add_child(thigh_socket)

thigh = gr.cone('thigh')
thigh:rotate('x', 180)
thigh:scale(6.8,100,6.8)
thigh:translate(0,-123,0)
thigh:set_material(steelCanvas)
thigh:set_texture(t_smoothsteel)

thigh_bounds = gr.cylinder('thigh_bounds')
thigh_bounds:scale(6.3,12,6.3)
thigh_bounds:translate(0,-35,0)
thigh_bounds:set_material(steelCanvas)
thigh_bounds:set_texture(t_platesteel)
thigh_bounds:set_bumps(t_platesteel, 'rgb')

lthigh = gr.csg('lthigh')
lthigh:set_csg_children(thigh, thigh_bounds, 'INTERSECT')
leg:add_child(lthigh)

kneecap = gr.sphere('kneecap')
kneecap:scale(5.5,5.5,5.5)
kneecap:translate(0,-47,0)
kneecap:set_material(steelCanvas)
kneecap:set_texture(t_bluesteel)
kneecap:set_bumps(t_bluesteel, 'rgb')
leg:add_child(kneecap)

shin = gr.cylinder('shin')
shin:scale(4.8,12,4.8)
shin:translate(0,-58,0)
shin:set_material(steelCanvas)
shin:set_texture(t_smoothsteel)
leg:add_child(shin)

heel = gr.sphere('heel')
heel:scale(4.7,4.7,4.7)
heel:translate(0,-70,0)
heel:set_material(steelCanvas)
heel:set_texture(t_bluesteel)
heel:set_bumps(t_bluesteel, 'rgb')
leg:add_child(heel)

shoe = gr.cube('shoe')
shoe:translate(-0.5,-0.5,-0.5)
shoe:scale(9,4,18)
shoe:translate(0,-75,6)
shoe:set_material(steelCanvas)
shoe:set_texture(t_gloves)

shoe_differ = gr.cube('shoe_differ')
shoe_differ:translate(-0.5,-0.5,-0.5)
shoe_differ:scale(10,4,18)
shoe_differ:rotate('x', 25)
shoe_differ:translate(0,-73,13)
shoe_differ:set_material(steelCanvas)
shoe_differ:set_texture(t_gloves)

shoecsg = gr.csg('shoecsg')
shoecsg:set_csg_children(shoe, shoe_differ, 'DIFFERENCE')
leg:add_child(shoecsg)

left_leg = gr.node('left_leg')
left_leg:rotate('y', -15)
left_leg:translate(-9,0,0)
left_leg:add_child(leg)
i_statue:add_child(left_leg)

right_leg = gr.node('right_leg')
right_leg:rotate('y', 15)
right_leg:translate(9,0,0)
right_leg:add_child(leg)
i_statue:add_child(right_leg)


--------arms
left_arm = gr.node('left_arm')
i_statue:add_child(left_arm)

shoulder = gr.sphere('shoulder')
shoulder:scale(6,6,6)
shoulder:translate(-18,18,0)
shoulder:set_material(steelCanvas)
shoulder:set_texture(t_bluesteel)
shoulder:set_bumps(t_bluesteel, 'rgb')
left_arm:add_child(shoulder)

arm_top = gr.cone('arm_top')
arm_top:scale(6.5,80,6.5)
arm_top:rotate('x', 180)
arm_top:translate(-18,-59,0)
arm_top:set_material(steelCanvas)
arm_top:set_texture(t_smoothsteel)

arm_top_bounds = gr.cube('arm_top_bounds')
arm_top_bounds:translate(-0.5,-0.5,-0.5)
arm_top_bounds:scale(10,25,10)
arm_top_bounds:translate(-18,8,0)
arm_top_bounds:set_material(steelCanvas)
arm_top_bounds:set_texture(t_gold)
arm_top_bounds:set_bumps(t_gold, 'rgb')

armtop_csg = gr.csg('armtop_csg')
armtop_csg:translate(0,-9,0)
armtop_csg:rotate('z', -50)
armtop_csg:rotate('y',20)
armtop_csg:translate(-16,-4,0)
armtop_csg:set_csg_children(arm_top, arm_top_bounds, 'INTERSECT')
left_arm:add_child(armtop_csg)

elbow = gr.sphere('elbow')
elbow:scale(5,5,5)
elbow:rotate('y',-42)
elbow:translate(-18,-7.6,0)
elbow:set_material(steelCanvas)
elbow:set_texture(t_bluesteel)
elbow:set_bumps(t_bluesteel, 'rgb')
armtop_csg:add_child(elbow)

arm = gr.cylinder('arm')
arm:scale(1/5,1/5,1/5)
arm:scale(3.5,20,3.5)
arm:translate(0,4,0)
arm:rotate('z', -55)
arm:set_material(steelCanvas)
arm:set_texture(t_smoothsteel)
elbow:add_child(arm)
------------

right_arm = gr.node('right_arm')
right_arm:scale(-1,1,1)
right_arm:add_child(left_arm)
i_statue:add_child(right_arm)

hands = gr.sphere('hands')
hands:scale(5,5,5)
hands:translate(0,-5,17)
hands:set_material(ruby)
i_statue:add_child(hands)

--sword
handle = gr.cylinder('handle')
handle:scale(1/5,1/5,1/5)
handle:scale(1.3,8.5,1.3)
handle:translate(0,1,0)
handle:set_material(gold)
handle:set_texture(t_gold)
handle:set_bumps(t_gold, 'rgb')
hands:add_child(handle)

handle_cap = gr.cylinder('handle_cap')
handle_cap:scale(1/1.3,1/8.5,1/1.3)
handle_cap:scale(1.8,0.5,1.8)
handle_cap:translate(0,1,0)
handle_cap:set_material(gold)
handle_cap:set_texture(t_wood)
handle_cap:set_bumps(t_wood, 'rgb')
handle:add_child(handle_cap)

hilt = gr.cylinder('hilt')
hilt:scale(1/5,1/5,1/5)
hilt:scale(1.6,10,1.6)
hilt:rotate('z', 90)
hilt:translate(0,-1.2,0)
hilt:set_material(gold)
hilt:set_texture(t_gold)
hilt:set_bumps(t_gold, 'rgb')
hands:add_child(hilt)

hilt_left = gr.cylinder('hilt_left')
hilt_left:scale(1/1.6,1/10,1/1.6)
hilt_left:scale(2,0.5,2)
hilt_left:translate(0,-1,0)
hilt_left:set_material(gold)
hilt_left:set_texture(t_wood)
hilt_left:set_bumps(t_wood, 'rgb')
hilt:add_child(hilt_left)

hilt_right = gr.cylinder('hilt_right')
hilt_right:scale(1/1.6,1/10,1/1.6)
hilt_right:scale(2,0.5,2)
hilt_right:translate(0,1,0)
hilt_right:set_material(gold)
hilt_right:set_texture(t_wood)
hilt_right:set_bumps(t_wood, 'rgb')
hilt:add_child(hilt_right)

blade = gr.cube('blade')
blade:translate(-0.5,-0.5,-0.5)
blade:scale(1/5,1/5,1/5)
blade:scale(13,70,2)
blade:translate(0,-8,0)
blade:set_material(crystal)

blade_edge_carver = gr.cube('blade_edge_carver')
blade_edge_carver:translate(-0.5,-0.5,-0.5)
blade_edge_carver:scale(1/5,1/5,1/5)
blade_edge_carver:rotate('y', 45)
blade_edge_carver:scale(13/1.41421,70,3.2)
blade_edge_carver:translate(0,-8,0)
blade_edge_carver:set_material(cutter_crystal)

blade_csg = gr.csg('blade_csg')
blade_csg:set_csg_children(blade, blade_edge_carver, 'INTERSECT')

blade_differ = gr.node('blade_differ')

blade_csg_all = gr.csg('blade_csg_all')
blade_csg_all:set_csg_children(blade_csg, blade_differ, 'DIFFERENCE')
hands:add_child(blade_csg_all)

diag_left = gr.cube('diag_left')
diag_left:translate(-0.5,-0.5,-0.5)
diag_left:scale(1/5,1/5,1/5)
diag_left:scale(10,10,10)
diag_left:rotate('z', 45)
diag_left:translate(-1.4,-14.5,0)
diag_left:set_material(cutter_crystal)
blade_differ:add_child(diag_left)

diag_right = gr.cube('diag_right')
diag_right:translate(-0.5,-0.5,-0.5)
diag_right:scale(1/5,1/5,1/5)
diag_right:scale(10,10,10)
diag_right:rotate('z', 45)
diag_right:translate(1.4,-14.5,0)
diag_right:set_material(cutter_crystal)
blade_differ:add_child(diag_right)

diag_front = gr.cube('diag_front')
diag_front:translate(-0.5,-0.5,-0.5)
diag_front:scale(1/5,1/5,1/5)
diag_front:scale(10,10,1.5)
diag_front:rotate('z', 45)
diag_front:rotate('x', 15)
diag_front:translate(0,-14,0.3)
diag_front:set_material(cutter_crystal)
blade_differ:add_child(diag_front)

diag_back = gr.cube('diag_back')
diag_back:translate(-0.5,-0.5,-0.5)
diag_back:scale(1/5,1/5,1/5)
diag_back:scale(10,10,1.5)
diag_back:rotate('z', 45)
diag_back:rotate('x', -15)
diag_back:translate(0,-14,-0.3)
diag_back:set_material(cutter_crystal)
blade_differ:add_child(diag_back)
-------

statue_base = gr.cylinder('statue_base')
statue_base:scale(36,1.5,36)
statue_base:translate(0,-78.3,0)
statue_base:set_material(chrome)
i_statue:add_child(statue_base)

statue_1 = gr.node('statue_1')
statue_1:translate(-66,0,-120)
statue_1:add_child(i_statue)
--====================================================


--outside================
outside = gr.node('outside')

background = gr.cube('background')
background:translate(-0.5,-0.5,-0.5)
background:scale(-2000,800,1)
background:translate(0,0,-1000)
background:set_material(perfectCanvas)
background:set_texture(t_sunset)

background2 = gr.cube('background2')
background2:translate(-0.5,-0.5,-0.5)
background2:scale(2500,500,1)
background2:translate(0,0,600)
background2:set_material(perfectCanvas)
background2:set_texture(t_sunset)

outside:add_child(background)
outside:add_child(background2)
--==========================


scene:add_child(pillars)
scene:add_child(statues)

statues:add_child(statue_1)
pillars:add_child(right_pillar_1)



--gr.render(scene, 'FinalScene.png', 480, 270, {0, 0, 100}, {0, 0, -100}, {0, 1, 0}, 50, {0.2, 0.2, 0.2}, {primary_light,flame1,flame2,flame3,flame4,flame5,flame6, backlight})
--gr.render(scene, 'FinalScene.png', 888, 500, {0, 0, 100}, {0, 0, -100}, {0, 1, 0}, 50, {0.2, 0.2, 0.2}, {primary_light, flame1s, backlight})
gr.render(scene, 'PillarKnight.png', 888, 500, {0, 0, 100}, {0, 0, -100}, {0, 1, 0}, 50, {0.2, 0.2, 0.2}, {primary_light_pt, testlight})
--gr.render(scene, 'FinalScene.png', 888, 500, {0, 0, 100}, {0, 0, -100}, {0, 1, 0}, 50, {0.2, 0.2, 0.2}, {primary_light_pt, flame1, backlight})
