hide = gr.material({0.84, 0.6, 0.53}, {0.3, 0.3, 0.3}, 20)
stone = gr.material({0.5, 0.40, 0.01}, {0.25, 0.15, 0.15}, 20)
carpet = gr.material({0.6, 0.02, 0.1}, {0,0,0}, 0)
mirror = gr.material({0.1, 0.16, 0.15}, {1.5,1.5,1.5}, 120)
perfect_canvas = gr.material({1.0, 1.0, 1.0}, {0, 0, 0}, 0)
perfect_crystal_1 = gr.material_extended({0.0, 0.0, 0.0}, {2.0, 2.0, 2.0}, 240, 1.333, 0, 0, 0)
perfect_crystal_2 = gr.material_extended({0.0, 0.0, 0.0}, {2.0, 2.0, 2.0}, 120, 1.333, 0, 0.3, 0)
perfect_crystal_3 = gr.material_extended({0.0, 0.0, 0.0}, {2.0, 2.0, 2.0}, 64, 1.333, 0, 0.7, 0)
perfect_crystal_4 = gr.material_extended({0.0, 0.0, 0.0}, {2.0, 2.0, 2.0}, 48, 1.333, 0, 0.7, 0)
perfect_crystal_5 = gr.material_extended({0.0, 0.0, 0.0}, {2.0, 2.0, 2.0}, 36, 1.333, 0, 1.7, 0)
mirror_water = gr.material_extended({0.1, 0.16, 0.15}, {1.5,1.5,1.5}, 120, 1.333, 0, 0, 0)
mirror_opaque_1 = gr.material_extended({0.5, 0.56, 0.55}, {0.75,0.75,0.75}, 120, 1.333, 1, 0, 0)
mirror_opaque_2 = gr.material_extended({0.5, 0.56, 0.55}, {0.75,0.75,0.75}, 60, 1.333, 1, 0.3, 0)
mirror_opaque_3 = gr.material_extended({0.5, 0.56, 0.55}, {0.75,0.75,0.75}, 16, 1.333, 1, 1.5, 0)
mirror_opaque_4 = gr.material_extended({0.5, 0.56, 0.55}, {0.75,0.75,0.75}, 12, 1.333, 1, 2.0, 0)
mirror_opaque_5 = gr.material_extended({0.5, 0.56, 0.55}, {0.75,0.75,0.75}, 6, 1.333, 1, 4, 0)
chrome_glass = gr.material_extended({0.4, 0.4, 0.4}, {1.4, 1.4, 1.4}, 76.8, 1.5, 0, 0, 0)
ruby_crystal = gr.material_extended({0.61424, 0.04136, 0.04136}, {1.527811, 1.326959, 1.326959}, 76.8, 1.7, 0, 0.3, 0)

--obtained from https://www.student.cs.uwaterloo.ca/~cs488/mat.txt
copper = gr.material({0.7038, 0.27048, 0.0828}, {0.25677, 0.13762, 0.086014}, 12.8)
emerald = gr.material({0.07568, 0.61424, 0.07568}, {0.833, 0.927811, 0.833}, 76.8)
jade = gr.material({0.54, 0.89, 0.63}, {0.316228, 0.316228, 0.316228}, 12.8)
obsidian = gr.material({0.18275, 0.17, 0.22525}, {0.332741, 0.328634, 0.346435}, 38.4)
pearl = gr.material({1, 0.829, 0.829}, {0.296648, 0.296648, 0.296648}, 11.264)
ruby = gr.material({0.61424, 0.04136, 0.04136}, {0.927811, 0.826959, 0.826959}, 76.8)
turquoise = gr.material({0.396, 0.74151, 0.69102}, {0.297254, 0.30829, 0.306678}, 12.8)
brass = gr.material({0.78039, 0.568627, 0.113725}, {0.99215, 0.941176, 0.807843}, 27.9)
bronze = gr.material({0.714, 0.4284, 0.18144}, {0.393548, 0.271906, 0.166721}, 25.6)
chrome = gr.material({0.4, 0.4, 0.4}, {0.974597, 0.974597, 0.974597}, 76.8)
gold = gr.material({0.75164, 0.60648, 0.22648}, {0.628281, 0.555802, 0.366065}, 51.2)
silver = gr.material({0.50754, 0.50754, 0.50754}, {0.908273, 0.908273, 0.908273}, 51.2)
brubber = gr.material({0.01, 0.01, 0.01}, {0.4, 0.4, 0.4}, 10)
polbronze = gr.material({0.4, 0.2368, 0.1036}, {0.774597, 0.458561, 0.200621}, 76.8)
polcopper = gr.material({0.5508, 0.2118, 0.066}, {0.580594, 0.223257, 0.0695701}, 51.2)
polgold = gr.material({0.34615, 0.3143, 0.0903}, {0.797357, 0.723991, 0.208006}, 83.2)
pewter = gr.material({0.427451, 0.470588, 0.541176}, {0.33333, 0.33333, 0.521569}, 9.84615)
ground = gr.material_extended({0.427451, 0.470588, 0.541176}, {0.33333, 0.33333, 0.521569}, 9.84615, 0, 0, 0, 0)
polsilver = gr.material({0.50754, 0.50754, 0.50754}, {0.508273, 0.508273, 0.508273}, 51.2)

planar_light_pt = gr.light({20, 18, 70}, {1.0, 0.6, 0}, {1, 0, 0}, {0, 0, 5}, {0, 5, 0})
spherical_light_pt = gr.light({-21, 27, 85}, {0.0, 0.4, 1.0}, {1, 0, 0}, 4.0)

primary_light = gr.light({-100.0, 350.0, 200.0}, {1.0, 1.0, 1.0}, {1, 0, 0})
secondary_light = gr.light({0, 100.0, 0}, {0.1, 0.7, 0.5}, {1, 0.4, 0})
frontal_light = gr.light({0, 0, 200}, {0.4, 0.4, 0.5}, {1, 0, 0})

texture_bricks = gr.texture('Assets/bricks.png')
texture_checkerboard = gr.texture('Assets/checkerboard.png')
texture_noise = gr.texture('Assets/perlin1.png')
texture_greynoise = gr.texture('Assets/greynoise.png')


planar_light_pt = gr.light({20, 18, 70}, {1.0, 0.6, 0}, {1, 0, 0}, {0, 0, 5}, {0, 5, 0})
spherical_light_pt = gr.light({-21, 27, 85}, {0.0, 0.4, 1.0}, {1, 0, 0}, 4.0)

--start script
scene = gr.node('root')

plane = gr.mesh( 'plane', 'Assets/plane.obj' )
plane:set_material(ground)
plane:scale(50,50,100)
plane:rotate('x', 8)
plane:translate(0,-1,0)
scene:add_child(plane)

far_cube = gr.cube('far_cube')
far_cube:scale(1/50,1/50,1/100)
far_cube:scale(8,12,1)
far_cube:translate(0,0.13,0)
far_cube:translate(0.05,-0.13,0.4)
far_cube:set_material(perfect_crystal_4)
plane:add_child(far_cube)

near_cube = gr.cube('near_cube')
near_cube:scale(1/50,1/50,1/100)
near_cube:scale(8,12,2)
near_cube:translate(0,0.13,0)
near_cube:translate(-0.35,-0.13,0.4)
near_cube:set_material(perfect_crystal_2)
plane:add_child(near_cube)

left_sphere = gr.sphere('left_sphere')
left_sphere:scale(1/50,1/50,1/100)
left_sphere:scale(6,6,6)
left_sphere:translate(0,0.13,0)
left_sphere:translate(-0.45,0.1,0.3)
left_sphere:set_material(perfect_crystal_1)
plane:add_child(left_sphere)

center_sphere = gr.sphere('center_sphere')
center_sphere:scale(1/50,1/50,1/100)
center_sphere:scale(6,6,6)
center_sphere:translate(0,0.13,0)
center_sphere:translate(0,0.1,0.3)
center_sphere:set_material(perfect_crystal_3)
plane:add_child(center_sphere)

right_sphere = gr.sphere('right_sphere')
right_sphere:scale(1/50,1/50,1/100)
right_sphere:scale(6,6,6)
right_sphere:translate(0,0.13,0)
right_sphere:translate(0.45,0.1,0.3)
right_sphere:set_material(perfect_crystal_5)
plane:add_child(right_sphere)

ground_cylinder = gr.cylinder('ground_cylinder')
ground_cylinder:scale(2,0.05,1.2)
ground_cylinder:translate(0,0,0)
ground_cylinder:set_material(stone)
ground_cylinder:set_texture(texture_checkerboard)
plane:add_child(ground_cylinder)

gr.render(scene, 'glossy2.png', 800, 700,
    {0, 0, 100}, {0, 0, -100}, {0, 1, 0}, 50,
    {0.3, 0.3, 0.3}, {planar_light_pt, spherical_light_pt})

